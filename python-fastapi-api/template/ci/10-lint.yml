lint:
  stage: lint
  image: python:3.11-slim
  before_script:
    - pip install --upgrade pip
    - pip install ruff black isort
  script:
    - echo "Running code quality checks..."
    - ruff check src/ --fix
    - black src/ --check --quiet
    - isort src/ --check-only --quiet
  allow_failure: true
  rules:
    - if: '$CI_COMMIT_BRANCH == "main"'
